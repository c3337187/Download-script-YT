# Download-script-YT

Небольшая утилита для сохранения ссылок по горячей клавише и последующей их загрузки с помощью yt-dlp.

Перед первым использованием убедитесь, что установлены все необходимые библиотеки. Запустите:

```bash
python check_packages.py
```

Или установите их вручную:

```bash
pip install yt_dlp pyperclip requests beautifulsoup4 pystray keyboard pillow tqdm pywin32
```

`pywin32` устанавливается только на Windows.

1. Запустите `python main_windows_strict.py`. В трее появится иконка.
2. Выделите ссылку и нажмите **Ctrl+Space** (или выбранную горячую клавишу). Скрипт сам отправит **Ctrl+C** и добавит ссылку в `download-list.txt`.
3. Нажмите **Ctrl+Shift+Space** или пункт меню "Скачать", чтобы загрузить все ссылки из списка.
   Во время загрузки в консоль выводится индикатор прогресса, а после завершения
   появится уведомление "Complete".
4. Через меню можно открыть папку загрузки, файл со списком ссылок, `info.txt` или изменить горячие клавиши.
5. Выберите "Выход" для завершения работы скрипта.

Если горячие клавиши не работают, один раз выберите пункт "Горячие клавиши" в меню и нажмите нужное сочетание. Настройки также можно изменить вручную в файле `config.json`.

Настройки хранятся в `config.json` рядом со скриптом. Все файлы скачиваются в папку `Downloads` в том же каталоге. Внутри автоматически создаются подпапки `Videos`, `Playlist Videos` и `Pictures`.

### Сборка exe-файла

Для упрощения запуска можно собрать исполняемый файл с помощью PyInstaller. Не забудьте добавить файл иконки и модуль для уведомлений в трее:

```bash
pyinstaller --onefile --windowed --icon=ico.ico \
    --add-data "ico.ico;." --hidden-import pystray._win32 \
    main_windows_strict.py
```

Файл `info.txt` включается автоматически, чтобы пункт "Инфо" работал в готовом exe.

Перед сборкой убедитесь, что зависимости установлены (запустите `python check_packages.py` или установите их вручную).

Для полной автоматизации используйте `build_exe.py`:

```bash
python build_exe.py
```

Скрипт проверит зависимости, запустит PyInstaller и по окончании предложит нажать любую клавишу, чтобы закрыть окно.

Error messages are written to `script.log` in the script folder.